============================================================	🚀 SPACEPORT OPENSFM GPS-CONSTRAINED SfM PROCESSING	============================================================	📅 Started at: Thu Jul  3 18:21:12 UTC 2025	🔧 Pipeline: OpenSfM with GPS constraints	📍 GPS Enhancement: Drone flight path integration	🎯 Output: COLMAP-compatible format for 3DGS	============================================================	🔍 Verifying environment...	Python 3.9.23	[notice] A new release of pip is available: 23.0.1 -> 25.1.1	[notice] To update, run: pip install --upgrade pip	[notice] A new release of pip is available: 23.0.1 -> 25.1.1	[notice] To update, run: pip install --upgrade pip	[notice] A new release of pip is available: 23.0.1 -> 25.1.1	[notice] To update, run: pip install --upgrade pip	✅ Environment verification completed	🔍 Verifying required scripts...	✅ Found: run_opensfm_gps.py	✅ Found: gps_processor.py	✅ Found: colmap_converter.py	✅ Found: config_template.yaml	📁 Input directory: /opt/ml/processing/input	📁 Output directory: /opt/ml/processing/output	🔍 Input directory contents:	total 393728	drwxr-xr-x 3 root root      4096 Jul  3 18:21 .	drwxr-xr-x 4 root root      4096 Jul  3 04:33 ..	-rw-r--r-- 1 root root 403160843 Jul  3 18:20 1751413909023-l2zkyj-Battery-1.zip	drwxr-xr-x 2 root root      4096 Jul  3 18:20 gps	📦 ZIP files found: 1	🛰️ CSV files found: 1	✅ GPS flight path data available - will use GPS-constrained reconstruction	============================================================	🚀 LAUNCHING OPENSFM GPS PROCESSOR	============================================================	🔧 Executing OpenSfM GPS-constrained reconstruction...	2025-07-03 18:21:14,000 - INFO - 🏗️ Created workspace: /tmp/opensfm_jidkjgx1	2025-07-03 18:21:14,001 - INFO - 📦 Extracting ZIP: /opt/ml/processing/input/1751413909023-l2zkyj-Battery-1.zip	2025-07-03 18:21:14,765 - INFO - 📷 Extracted 97 images	2025-07-03 18:21:14,766 - INFO - 🛰️ Processing GPS data from: /opt/ml/processing/input/gps/gps-flight-path-20250703-182003.csv	2025-07-03 18:21:14,766 - INFO - 🚁 Initializing Advanced 3D Path Processor	2025-07-03 18:21:14,766 - INFO - 📂 CSV: /opt/ml/processing/input/gps/gps-flight-path-20250703-182003.csv	2025-07-03 18:21:14,766 - INFO - 📷 Images: /tmp/opensfm_jidkjgx1/images	2025-07-03 18:21:14,769 - INFO - ✅ Mapped column 'latitude' → 'latitude'	2025-07-03 18:21:14,769 - INFO - ✅ Mapped column 'longitude' → 'longitude'	2025-07-03 18:21:14,769 - INFO - ✅ Mapped column 'altitude(ft)' → 'altitude'	2025-07-03 18:21:14,770 - INFO - ✅ Mapped column 'heading(deg)' → 'heading'	2025-07-03 18:21:14,770 - INFO - ✅ Mapped column 'gimbalpitchangle' → 'gimbal_pitch'	2025-07-03 18:21:14,770 - INFO - ✅ Mapped column 'photo_timeinterval' → 'photo_interval'	2025-07-03 18:21:14,770 - INFO - ✅ Mapped column 'photo_distinterval' → 'distance_interval'	2025-07-03 18:21:14,771 - INFO - 📏 Converted altitude from feet to meters	2025-07-03 18:21:14,771 - INFO - 📸 Using CSV photo interval: 3.0 seconds	2025-07-03 18:21:14,771 - WARNING - ⚠️ Using fallback speed: 17.9 mph (8.0 m/s)	2025-07-03 18:21:14,771 - INFO - ⏱️ Using time-based photo distribution: 24.0m intervals	2025-07-03 18:21:14,771 - INFO - 📏 Using CSV distance interval: 0.0m	2025-07-03 18:21:14,772 - INFO - ✅ Loaded 10 waypoints	2025-07-03 18:21:14,772 - INFO - 📊 Coverage: 41.731660 to 41.734230 lat	2025-07-03 18:21:14,772 - INFO - 📊 Altitude: 39.6m to 118.0m	2025-07-03 18:21:14,772 - INFO - 🌍 Local coordinate system:	2025-07-03 18:21:14,772 - INFO -    Origin: 41.732850°, -111.835173°, 70.0m	2025-07-03 18:21:14,772 - INFO -    UTM Zone: 12T	2025-07-03 18:21:14,806 - INFO - 🛤️ Built 3D flight path:	2025-07-03 18:21:14,806 - INFO -    Segments: 9	2025-07-03 18:21:14,806 - INFO -    Total length: 2731.8m	2025-07-03 18:21:14,806 - INFO -    Curved segments: 9	2025-07-03 18:21:14,806 - INFO -    Estimated flight time: 341.4s	2025-07-03 18:21:16,547 - INFO - ✅ Using EXIF timestamps for photo ordering	2025-07-03 18:21:16,547 - INFO - 📸 Ordered 97 photos	2025-07-03 18:21:16,547 - INFO -    First: DJI_0579.JPG	2025-07-03 18:21:16,547 - INFO -    Last: DJI_0675.JPG	2025-07-03 18:21:16,547 - INFO - 📐 Time-based photo mapping parameters:	2025-07-03 18:21:16,547 - INFO -    Photos: 97	2025-07-03 18:21:16,547 - INFO -    Speed: 8.0 m/s (from CSV)	2025-07-03 18:21:16,547 - INFO -    Interval: 3.0 s (from CSV)	2025-07-03 18:21:16,547 - INFO -    Calculated spacing: 24.0 m	2025-07-03 18:21:16,547 - INFO - ✅ Using time-based distribution (CSV parameters)	2025-07-03 18:21:16,593 - INFO - ✅ Mapped 97 photos to 3D positions	2025-07-03 18:21:16,597 - INFO - ✅ Generated OpenSfM files in /tmp/opensfm_jidkjgx1/opensfm	2025-07-03 18:21:16,597 - INFO -    - exif_overrides.json	2025-07-03 18:21:16,597 - INFO -    - reference_lla.json	2025-07-03 18:21:16,597 - INFO -    - reference.txt	2025-07-03 18:21:16,597 - INFO -    - gps_priors.json	2025-07-03 18:21:16,597 - INFO - 📊 GPS Processing Summary:	2025-07-03 18:21:16,597 - INFO -    Photos: 97	2025-07-03 18:21:16,597 - INFO -    Path length: 2731.8m	2025-07-03 18:21:16,597 - INFO -    Photo spacing: 24.0m	2025-07-03 18:21:16,597 - INFO -    Confidence: 0.90	2025-07-03 18:21:16,599 - INFO - ✅ Created OpenSfM config: /tmp/opensfm_jidkjgx1/opensfm/config.yaml	2025-07-03 18:21:16,795 - INFO - ✅ Copied 97 images to OpenSfM	2025-07-03 18:21:16,795 - INFO - 🔄 Running OpenSfM reconstruction...	2025-07-03 18:21:16,795 - INFO - 🔧 Extract image metadata...	2025-07-03 18:21:22,396 - INFO - ✅ Extract image metadata completed	2025-07-03 18:21:22,397 - INFO - 🔧 Detect features...	2025-07-03 18:24:21,810 - INFO - ✅ Detect features completed	2025-07-03 18:24:21,810 - INFO - 🔧 Match features...	2025-07-03 18:45:04,284 - INFO - ✅ Match features completed	2025-07-03 18:45:04,284 - INFO - 🔧 Create tracks...	2025-07-03 18:45:14,893 - ERROR - ❌ OpenSfM create_tracks failed:	2025-07-03 18:45:14,894 - ERROR -    stdout: 	2025-07-03 18:45:14,894 - ERROR -    stderr: 2025-07-03 18:45:05,239 INFO: reading features	Traceback (most recent call last):
  File "/opt/OpenSfM/bin/opensfm_main.py", line 34, in <module>
    main()  # pragma: no cover
  File "/opt/OpenSfM/bin/opensfm_main.py", line 26, in main
    commands.command_runner(
  File "/opt/OpenSfM/opensfm/commands/command_runner.py", line 45, in command_runner
    command.run(data, args)
  File "/opt/OpenSfM/opensfm/commands/command.py", line 16, in run
    self.run_impl(data, args)
  File "/opt/OpenSfM/opensfm/commands/create_tracks.py", line 15, in run_impl
    create_tracks.run_dataset(dataset)
  File "/opt/OpenSfM/opensfm/actions/create_tracks.py", line 16, in run_dataset
    matches = tracking.load_matches(data, data.images())
  File "/opt/OpenSfM/opensfm/tracking.py", line 61, in load_matches
    im1_matches = dataset.load_matches(im1)
  File "/opt/OpenSfM/opensfm/dataset.py", line 367, in load_matches
    matches = MatchingUnpickler(BytesIO(gzip.decompress(fin.read()))).load()
  File "/opt/OpenSfM/opensfm/dataset.py", line 361, in find_class
    raise pickle.UnpicklingError(	_pickle.UnpicklingError: global 'numpy._core.multiarray._reconstruct' is forbidden	2025-07-03 18:45:14,894 - ERROR - ❌ OpenSfM reconstruction failed	2025-07-03 18:45:15,077 - INFO - 🧹 Cleanup completed	2025-07-03 18:45:15,077 - INFO - 🏁 Pipeline finished with exit code: 1
